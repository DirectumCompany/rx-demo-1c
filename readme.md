# rx-demo-1c

Репозиторий предназначен для демонстрации возможностей интеграции RX с системой 1С при сквозной обработке первичной документации, а также реализации ряда дополнительных функций.
 
## Порядок установки и настройки
[Инструкция по настройке и использованию.](http://aura.npo-comp.ru/Sungero?type=09584896-81e2-4c83-8f6c-70eb8321e1d0&id=650982)

## Описание решения
### No-code блоки 
В решении представлены no-code блоки из модуля NoCodeApproval: 
+ "Исходящий счет. Передача в 1С статуса "Оплачен"";
+ "Входящий счет. Передача в 1С статуса "Оплачен"";
+ "УПД. Передача в 1С признака "Документ подписан"";
+ "Входящий счет. Передача в 1С";
+ "УПД. Передача в 1С";
+ "Договор. Передача в 1С".

**Точка входа:** соответствующие серверные события ["Выполнение"](https://github.com/DirectumCompany/rx-demo-1c/blob/master/src/Packages/Sungero.NoCodeApproval/Sungero.NoCodeApproval.Server/ModuleServerFunctions.cs#L17-L131) у блоков.
Блок-скрипты используются при построении вариантов процессов для демонстрации возможностей работы с первичной документаций при интеграции с 1С.

### Варианты процессов
При применении настроек на сервер импортируются следующие варианты процесса по умолчанию: 

+ "Процесс согласования входящих счетов (интеграция с 1С)";
+ "Процесс согласования входящих УПД (интеграция с 1С)";
+ "Процесс согласования договорных документов (интеграция с 1С)";
+ "Процесс согласования исходящих счетов (интеграция с 1С)";
+ "Процесс согласования исходящих УПД (интеграция с 1С)".

### Открытие связанных записей 
Открытие связанных записей в 1С поддерживается для следующих типов документов:
+ Универсальный передаточный документ (УПД)
+ Договор
+ Входящий счет
+ Исходящий счет

**Точка входа:** действие **OpenEntity1CSungero** соответствующего документа.

### Этапы регламента
+ Этап регламента "Создание входящего счета в 1С". В рамках данного этапа создается входящий счет в 1С на основе данных входящего счета Directum RX.
  
**Точка входа:** серверный метод [Execute](https://github.com/DirectumCompany/rx-demo-1c/blob/master/src/Packages/Sungero.RuleBasedApproval/Sungero.RuleBasedApproval.Server/SendIncomingInvoiceTo1CStage/SendIncomingInvoiceTo1CStageServerFunctions.cs#L18-L61) справочника ApprovalCreateIncInvoice1CStage. 

## Порядок демонстрации
Порядок демонстрации опиcан в [документе.](http://aura.npo-comp.ru/Sungero?type=09584896-81e2-4c83-8f6c-70eb8321e1d0&id=649285)